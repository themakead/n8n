{
  "updatedAt": "2025-06-16T12:23:55.192Z",
  "createdAt": "2025-03-03T20:38:43.992Z",
  "id": "4ykxlFJgCQo1r8p6",
  "name": "Agent RAG",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "4f2756af-e9f9-4cb9-b337-3fb915a072ff",
      "name": "When chat message received",
      "webhookId": "fb5560fc-3bad-4dee-a1a4-18c4ae70d211"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant.\n\nPlease make sure to answer any and all questions\nfrom the user to the best of your ability.\n\nIf you didn't find the answer to your question, be sure to add a task to Airtable to answer this question in the future - This is very important!\n\nFor every message, please query Pinecone to find the right solution.\n\nIf the user has any tasks or requests anything from\nus to complete, please call the Airtable tool, and\nnotify the user that we're currently working on the\ntask and we'll let them know when it' s done.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        220,
        0
      ],
      "id": "efea9107-c04e-4c1a-8fbd-2b91e288080a",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        100,
        200
      ],
      "id": "ebceb869-63dc-410f-b02a-5db6c297bb51",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "EJgMjh9fB0j2lVkm",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        240,
        200
      ],
      "id": "ab5396dd-ec31-4d77-b858-fcebfca4ce8e",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "name": "Question_And_Answer",
        "description": "Use this tool when a customer has a question and you need to provide an answer."
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        380,
        220
      ],
      "id": "51dec90c-4d4f-4b3a-ad84-f530949b090e",
      "name": "Answer questions with a vector store"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        580,
        380
      ],
      "id": "98b99f86-5490-4c73-b0b8-deb867476b8d",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "EJgMjh9fB0j2lVkm",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "pineconeIndex": {
          "__rl": true,
          "value": "n8n8",
          "mode": "list",
          "cachedResultName": "n8n8"
        },
        "options": {
          "pineconeNamespace": "Sales"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        220,
        380
      ],
      "id": "3701570a-f72c-43f5-86fb-35b3d6afef60",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "URDGtdOSndrLRtt4",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        200,
        560
      ],
      "id": "e7a8fc09-c624-4ef8-b189-d30d72bf7648",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "EJgMjh9fB0j2lVkm",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "appmSZ6606aJyXxd9",
          "mode": "list",
          "cachedResultName": "Baza n8n",
          "cachedResultUrl": "https://airtable.com/appmSZ6606aJyXxd9"
        },
        "table": {
          "__rl": true,
          "value": "tblK7RXKazZCOXu0M",
          "mode": "list",
          "cachedResultName": "Table 1",
          "cachedResultUrl": "https://airtable.com/appmSZ6606aJyXxd9/tblK7RXKazZCOXu0M"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Name": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Name', ``, 'string') }}",
            "Notes": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', ``, 'string') }}",
            "Status": "Todo"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Notes",
              "displayName": "Notes",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Assignee",
              "displayName": "Assignee",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Todo",
                  "value": "Todo"
                },
                {
                  "name": "In progress",
                  "value": "In progress"
                },
                {
                  "name": "Done",
                  "value": "Done"
                }
              ],
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtableTool",
      "typeVersion": 2.1,
      "position": [
        720,
        180
      ],
      "id": "e923fbc3-14a6-41a5-a076-e3d654b3897d",
      "name": "Airtable",
      "credentials": {
        "airtableTokenApi": {
          "id": "wL8c5oPzOXWbEpf5",
          "name": "Airtable Personal Access Token account"
        }
      }
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Answer questions with a vector store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Airtable": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "29f5b41e-3d73-44d9-89c4-6a40f0317c7a",
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-03-03T20:38:43.992Z",
      "createdAt": "2025-03-03T20:38:43.992Z",
      "role": "workflow:owner",
      "workflowId": "4ykxlFJgCQo1r8p6",
      "projectId": "SQnOb1XW8PKTppQP"
    }
  ],
  "tags": [
    {
      "updatedAt": "2025-03-15T18:55:04.496Z",
      "createdAt": "2025-03-15T18:55:04.496Z",
      "id": "hv9Sn3eOxS1IkEIE",
      "name": "Do Edycji"
    }
  ]
}